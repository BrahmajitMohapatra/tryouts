#!/usr/bin/ruby

# Put our local lib in first place
BASE_PATH = File.expand_path File.join(File.dirname(__FILE__), '..')
lib_dir = File.join(BASE_PATH, 'lib')
$:.unshift lib_dir

require 'tryouts'

if ARGV.empty?
  # Help out the requires in the tryouts
  [File.join(Dir.pwd, 'lib'), File.join(Dir.pwd, '..', 'lib')].each do |dir|
    $:.unshift dir
  end
  paths = Dir.glob(File.join(Dir.pwd, '{try,tryouts}', '*_{try,tryouts}.rb'))
  paths += Dir.glob(File.join(Dir.pwd, '*_{try,tryouts}.rb'))
else
  paths = ARGV
end

#Tryouts.debug = true


#Tryouts.container = self

exit Tryouts.run_all(*paths)

